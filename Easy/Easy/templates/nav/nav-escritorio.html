{% load static %}
<style>
    
      .btn-nav 
      {
            width: 100%;
            display: flex;
            flex-wrap: wrap;    
            background-color: #101010;
      }
      .btn-nav button 
      {
            padding: 0.5rem;
            /* margin-top: 0.1rem; */
            border-radius: 0.2rem !important ;
            border: none !important;
            background-color: transparent;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
           
      }
      .btn-nav button img, .btn-nav button span
      {
            transition: 0.3s;
      }
      .btn-nav button, a
      {
            width: 100%;
            height: auto;
            display: flex; 
            border: 0px;
            justify-content: start;
            align-content: center;
            border-radius: 1rem;
            border: 0px;
            text-decoration: none;
            
      }
      .btn-nav button img
      {
            margin-right: 0.9rem;
            width: 30px !important;
            padding: 0.2rem;
            border-radius: 50%;
            filter: brightness(1) invert(1);
            /* background-color: #f9f9f9 !important ;
            border: 1px solid #eeeeee; */
      }  
      .btn-nav button span
      {
            margin-top: 0.3rem;
            font-size: 14px !important; font-weight: bold;
            color: #f9f9f9da;

      }

      .btn-nav strong
      {
            width: 100%;
            font-size: 10px !important;
            color: rgb(117, 117, 117);
      }

      .btns-creditos-opciones button
      {
            width: max-content; background-color: white;
            font-size: 12px !important;
            border-radius: 2rem !important;

      }
      .btn-disabled {
            color: #878787b6 !important;
      }

</style>

<section class="  sec-btn    card   mb-1 mt-0 border-0 overflow-scroll " 
      style="border-radius: 0rem;  height: max-content;">
      <div class="    w-100  position-absolute top-0 " style=" height: 10rem; border-radius: 0rem;">
           {% include "cp/perfil-empresa.html" %}
      </div>

      <div class='btn-nav nav-control p-2  pb-2   d-flex flex-wrap align-content-center' data-aos="fade-in"             
            style="transition: 0s; height: 100vh;" >
          
            <button class=" btns Gratis Emprendedor Ejecutivo btn-dashboard mt-5 "
                  onclick="window.location.href = '{% url 'dashboard' %}'" >
                  <img src="{% static "icons/grafico.png" %}" width='24' alt="">
                        <span >
                              Dashboard  
                        </span>
            </button>
            <button onclick="window.location.href = '{% url 'client:client' %}'" 
                  class=" btns btn-clientes Gratis Emprendedor Ejecutivo position-relative "> 
                  <img class="img-cliente" src="{% static "icons/user.svg" %}" width='24' alt="">
                        <span>
                              Clientes  
                        </span>
                  {% include "client/cp/more-options.html" %}  <!-- More options for client -->
            </button>
            <button onclick="window.location.href = '{% url 'mensajeria:mensajeria' %}'" 
            class="btns btn-mensajeria  Ejecutivo">
            <img src="{% static "icons/msj.png" %}" width='24' alt="">
                  <span>
                        Mensajeria
                  </span>
            </button>
            <button onclick="window.location.href = '{% url 'credit:credit' %}'" 
                  class=" btns btn-creditos  Emprendedor Ejecutivo">
                  <img class="img-creditos" src="{% static "icons/list.svg" %}" width='24' alt="">
                  <a >
                        <span>
                              Creditos
                        </span>
                  </a>
                  {% include "credit/cp/more-options.html" %}  <!-- More options for credit -->
            </button>
            <button class="btns btn-calculator Gratis Emprendedor Ejecutivo "
            onclick="window.location.href = '{% url 'calculator:calculator' %}'">
                  <img class='img-calculator' onclick="OpenCalculator()" src="{% static "icons/calculator.png" %}" width='24' alt="">
                        <span>
                              Calculadora
                        </span>
            </button>
            <button class="btns btn-asistente Ejecutivo"  
            onclick="window.location.href = '{% url 'asistente:asistente' %}'">
            <img src="{% static "icons/star.png" %}" width='24' alt="">
                  <span>
                        Asistente 
                  </span>
            </button>
            <button onclick="window.location.href = '{% url 'maps:maps' %}'"
                  class="btns btn-maps Ejecutivo">
                  <img src="{% static "icons/map.svg" %}" width='24' alt="">
                        <span>
                              Mapas 
                        </span>
            </button>
            <button onclick="window.location.href = '{% url 'agenda:agenda' %}'" 
                  class="btns btn-calendario Ejecutivo">
                  <img src="{% static "icons/calendar.svg" %}" width='24' alt="">
                        <span>
                              Agenda
                        </span>
            </button>
            <button  onclick="window.location.href = '{% url 'caja:caja' %}'" 
                   class="btns btn-caja Emprendedor Ejecutivo">
                  <img src="{% static "icons/document.svg" %}" width='24' alt="">
                        <span>
                              Caja
                        </span>
            </button>
            <button class="btns btn-inversion Ejecutivo "
                  onclick="window.location.href = '{% url 'inversion:inversion' %}'">
                  <img src="{% static "icons/estadisticas.png" %}" width='24' alt="">
                        <span>
                              Inversion
                        </span>
            </button>
            <button onclick="window.location.href = '{% url 'company:company-update' request.user.more.company.id %}'"
                   class="btns btn-empresa  Gratis Emprendedor Ejecutivo">
                        <img src="{% static "icons/config.svg" %}" width='24' alt="">
                        <span>
                              Configuracion
                        </span>
            </button> 
      </div>

      {% include "cp/options-nav.html" %}
</section>
<script>
      // More options for client
      document.querySelector('.img-cliente').addEventListener('click', function() {
            const moreOptions = document.querySelector('.more-options-nav');
            if (moreOptions) {
                  moreOptions.classList.toggle('d-none');
            }
      });


      // More options for credit
      document.querySelector('.img-creditos').addEventListener('click', function() {
            const moreOptions = document.querySelector('.credits-options');
            if (moreOptions) {
                  moreOptions.classList.toggle('d-none');
            }
      });



      function OpenCalculator()
      {
            const moreOptions = document.querySelector('.div-calculator');
                  if (moreOptions) {
                        moreOptions.classList.toggle('d-none');
                  }
            document.querySelector('.capital-calculator').focus();
      }



      document.addEventListener('DOMContentLoaded', () => {
    // Obtener todos los botones dentro de .nav-control
    const buttons = document.querySelectorAll('.nav-control .btns');
    const span_buttons = document.querySelectorAll('.nav-control .btns span');

    // Desactivar todos los botones inicialmente
    buttons.forEach(button => button.disabled = true);
    span_buttons.forEach(span => span.classList.add('btn-disabled'));
    
    // Clase a buscar
    let prm = '{{request.user.membership.plan.name}}';
      // Aquí puedes cambiar el valor de prm según lo necesites

    buttons.forEach(button => {
            // Obtener todas las clases del botón
            const buttonClasses = [...button.classList];
            
            // Filtrar las clases que coincidan parcialmente con 'prm'
            const matchedClasses = buttonClasses.filter(cls => cls.includes(prm));
            
            // Si al menos hay una clase coincidente, activar el botón
            if (matchedClasses.length > 0) {
                  button.disabled = false; // Activar el botón    
                  // Acceder al span dentro del botón
                  const span = button.querySelector('span');
                  
                  // Aquí puedes aplicar cambios al span, por ejemplo:
                  span.classList.remove('btn-disabled');  // Quitar la clase 'btn-disabled' del span


            }
      });
});
</script>